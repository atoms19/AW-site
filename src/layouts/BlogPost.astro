---
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import FormattedDate from '../components/FormattedDate.astro';
import { Image } from 'astro:assets';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
<style>
  .blurred{
	 filter:blur(10rem) saturate(150%) brightness(100%);
	 position:absolute;
	 left:50%;
	 top:30%;
	 transform:translate(-50%) scale(0.75) translateY(-50%);
	 z-index:-5;
  }
  .prose{
	 background:var(--bg);
	 padding:2rem;
	 /* box-shadow:0 5px 5px 2px rgba(0,0,0,0.15); */
  }

  @media (max-width :560px){
    .prose{
		padding:0.5rem;
	 }
  }
</style>
	</head>

	<body>
		<Header />
		  <main>

	 		<article>
				<div class="">
					{heroImage && <Image width={1020} height={510} src={heroImage} alt="" />}	
					{heroImage && <Image width={1020} class="blurred" height={510} src={heroImage} alt="" />}	

				</div>
				<div class="prose">
					<div class="title">
											<h1>{title}</h1>
	<div>
							<FormattedDate date={pubDate} />
							{
								updatedDate && (
									<div class="last-updated-on">
									  Last updated on <FormattedDate date={updatedDate} />
									</div>
								)
							}
						</div>

						<hr />
					</div>
					<slot />
				</div>
			</article>
			<div style="width:100%;display:flex;justify-content:center;">
 <a href="/blog" ><button class="outline">back to posts</button></a>
			</div>	
		</main>
		<Footer />
	</body>
</html>
